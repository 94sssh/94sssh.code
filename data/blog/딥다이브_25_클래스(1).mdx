---
title: 모던 자바스크립트 Deep Dive - 25. 클로저(1)
date: '2024-07-04T00:00:00'
tags: ['javascript', 'book', 'deepdive']
draft: false
summary: 모던 자바스크립트 Deep Dive - 25. 클로저(1)
layout: PostSimple
---

## 25.1. 클래스는 프로토타입의 문법적 설탕인가?

자바스크립트는 프로토타입 기반 객체지향 언어로 클래스가 필요 없다. 그렇지만 ES6에 클래스를 도입해 클래스 기반 객체지향 프로그래밍에 익숙한 프로그래머가 빠르게 학습할 수 있도록, 기존 프로토타입 기반 패턴을 클래스 기반 패턴처럼 사용할 수 있도록 제공하고 있다. 이에 [문법적 설탕](https://en.wikipedia.org/wiki/Syntactic_sugar)이라고 볼 수도 있다.

클래스와 생성자 함수는 모두 프로토타입 기반의 인스턴스를 생성하지만, 정확히 동일하게 동작하지는 않으며, 클래스가 더 엄격하고 다양한 기능을 제공한다. 클래스와 생성자 함수의 차이는 다음과 같다.

1. 클래스를 new 연산자 없이 호출하면 에러가 발생 / 생성자 함수는 new 연산자 없이 호출하면 일반 함수로 호출
2. 클래스는 상속을 지원하는 extends와 super 키워드를 제공
3. 클래스는 호이스팅이 발생하지 않는 것처럼 동작 / 생성자 함수는 함수 호이스팅, 변수 호이스팅 발생
4. 클래스 내의 모든 코드에는 암묵적으로 strict mode가 실행되고 해제할 수 없다
5. 클래스의 constructor, 프로토타입 메서드, 정적 메서드는 모두 프로퍼티 어트리뷰트 [[Enumerable]]의 값이 `false`로 열거되지 않는다.

클래스는 생성자 함수 기반의 객체 생성 방식보다 견고하고 명료하며, extends와 super 키워드는 상속 관계 구현을 더욱 간결하고 명료하게 한다. 따라서, 클래스를 단순한 문법적 설탕이라고 보기보단 **새로운 객체 생성 매커니즘**으로 보는 것이 합당하다.

## 25.2. 클래스 정의

클래스는 `class` 키워드를 사용하여 정의한다. 이름은 생성자 함수와 같이 파스칼 케이스가 일반적이다.

```js
// 클래스 선언문
class Person {}

// 익명 클래스 표현식
const Person = class {}

// 기명 클래스 표현식
const Person = class MyClass {}
```

클래스는 표현식으로 정의할 수 있는 함수이고, 값처럼 사용할 수 있는 일급 객체로 다음과 같은 특징을 갖는다.

- 무명의 리터럴로 생성할 수 있음, 런타임에 생성이 가능
- 변수나 자료구조(객체, 배열 등)에 저장할 수 있음
- 함수의 매개변수에 전달 가능
- 함수의 리턴값으로 사용 가능

클래스 몸체에는 0개 이상의 메서드만 정의할 수 있으며, constructor(생성자), 프로토타입 메서드, 정적 메서드의 세 가지가 있다. 클래스와 생성자 함수의 정의 방식은 형태적인 면에서 유사하다.

![클래스와 생성자 함수의 정의 방식 비교](https://github.com/94sssh/94sssh.code/assets/93918946/31b0420d-c54d-4c8b-8367-94b67d32228d)

## 25.3. 클래스 호이스팅

클래스는 함수로 평가된다. 클래스는 함수 선언문과 같이 런타임 이전에 먼저 평가되어 함수 객체를 생성하며, 이때 생성된 함수 객체는 생성자 함수로서 호출할 수 있는 함수인 constructor다. 생성자 함수로서 호출할 수 있는 함수는 함수 정의가 평가되어 함수 객체를 생성하는 시점에 프로토타입도 함께 생성된다. [프로토타입의 생성 시점](<https://94sssh-code.vercel.app/blog/%EB%94%A5%EB%8B%A4%EC%9D%B4%EB%B8%8C_19_%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85(1)#195-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%98-%EC%83%9D%EC%84%B1-%EC%8B%9C%EC%A0%90>) 프로토타입과 생성자 함수는 단독으로 존재할 수 없고 언제나 쌍으로 존재하기 때문이다.

단, 클래스는 클래스 정의 이전에 참조할 수 없으며, 호이스팅이 발생하지 않는 것처럼 보이지만 호이스팅이 발생한다. 클래스는 `let`, `const` 키워드로 선언한 변수처럼 호이스팅되므로 선언문 이전에 TDZ에 빠지기 때문에 호이스팅이 발생하지 않는 것처럼 동작한다.

```js
class Person {}

console.log(typeof Person) // function
```

## 25.4. 인스턴스 생성

## 25.5. 메서드

### 25.5.1. constructor

### 25.5.2. 프로토타입 메서드

### 25.5.3. 정적 메서드

### 25.5.4. 정적 메서드와 프로토타입 메서드의 차이

### 25.5.5. 클래스에서 정의한 메서드의 특징
