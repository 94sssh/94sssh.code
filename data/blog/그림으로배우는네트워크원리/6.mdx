---
title: '[네트워크 원리] - 05. 이더넷과 무선 LAN(1)'
date: '2024-09-05T00:00:00'
tags: ['그림으로배우는네트워크원리', 'book', 'network']
draft: false
summary: 05. 이더넷과 무선 LAN(1)
layout: PostSimple
---

## 이더넷과 무선 LAN

### 같은 네트워크 내에서의 전송을 반복한다

**네트워크**: 라우터 또는 레이어3 스위치로 구획되는 범위  
네트워크의 기본 구성: 레이어2 스위치로 하나의 네트워크를 구성 => 라우터 또는 레이어3 스위치로 각 네트워크를 서로 연결  
PC에서 서버로 가는 데이터는 우선 PC와 같은 네트워크 상의 라우터로 전송 후, 라우터는 다시 같은 네트워크의 다른 라우터로 전송  
같은 네트워크 내에서 전송하는 프로토콜로 자주 이용하는 것이 이더넷과 무선 LAN

### 데이터를 전송하는 이더넷

이더넷: TCP/IP 가장 아래 계층에서 네트워크 인터페이스층의 프로토콜  
이더넷의 역할: 같은 레이어2 스위치에 연결된 PC는 같은 네트워크에 접속한 것인데, 같은 네트워크에 있는 PC의 이더넷 인터페이스에서 다른 PC의 이더넷 인터페이스로 데이터를 전송하는 것  
이더넷 인터페이스가 있는 기기끼리 연결해 이더넷 링크를 만들면 유선 네트워크가 된다.

### 이더넷의 규격

1000BASE-T

- 1000: 앞의 숫자는 전송 속도로 기본적으로 Mbps 단위
- BASE: 베이스 밴드 방식으로 현재는 베이스 밴드 이외에는 이용하지 않음
- T: 전송 매체(케이블)와 물리층 레벨의 특징으로 'T'는 UTP 케이블을 이용하는 규격

### 인터페이스는 어느 것?

**MAC 주소**: 이더넷 인터페이스를 특정하기 위한 48비트 주소, MAC 주소의 48비트는 OUI의 24비트와 시리얼 넘버의 24비트로 구성  
OUI: 이더넷 인터페이스를 제조하는 벤더(메이커) 식별 코드

MAC 주소는 이더넷 인터페이스에 미리 할당되어 있어 변경할 수 없는 주소이다.  
MAC 주소는 16진수로 표기한다.

- 1바이트씩 16진수로 변환하고 `-`로 구분 (`00-00-01-02-03-04`)
- 1바이트씩 16진수로 변환하고 `:`로 구분 (`00:00:01:02:03:04`)
- 2바이트씩 16진수로 변환하고 `.`으로 구분 (`0000.0102.0304`)

### 일반적으로 사용되는 인터페이스와 케이블은?

자주 사용하는 이더넷 규격  
가장 널리 이용되는 규격들은 모두 RJ-45 이더넷 인터페이스와 UTP 케이블을 채용

- UTP 케이블: 이더넷의 전송 매체로, 흔히 말하는 LAN 케이블
- RJ-45 이더넷 인터페이스: UTP 케이블용 이더넷 인터페이스

### 데이터 형식

이더넷으로 데이터를 전송하기 위해 `이더넷 헤더`와 `FCS`가 필요, `FCS`는 에러 체크를 위한 것으로 이렇게 `이더넷 헤더`와 `데이터`, `FCS`를 합해 `이더넷 프레임`이라고 부름.

이더넷 헤더 안에는 세 가지 정보가 있다.

- 목적지 MAC 주소(어느 인터페이스에서 전송)
- 출발지 MAC 주소(어느 인터페이스로 전송)
- 타입 코드(운반할 데이터)

| 타입 코드 | 프로토콜 |
| :-------: | :------: |
|  0x0800   |   IPv4   |
|  0x0806   |   ARP    |
|  0x86DD   |   IPv6   |

전송 대상이 되는 데이터는 64바이트에서 1500바이트 사이로 정해져 있다.

`MTU`(Maximum Transmission Unit): 데이터 크기의 최대값, MTU를 넘는 크기의 데이터는 분할 전송한다.

### 어떻게 접속하는가?

**토폴로지**: 네트워크의 연결 형태  
토폴로지는 세 가지 형태가 있다.

- 버스형
- 스타형
- 링형

버스형 토폴로지는 하나의 전송 매체를 복수의 기기가 공유하는 것으로, 전송 매체를 어떻게 공유할 것인지 제어해야 한다.  
현재 버스형 토폴로지에서 레이어2 스위치를 중심으로 하는 스타형 토폴로지로 옮겨가고 있다.

### 데이터 전송 타이밍 제어

초기의 버스형 토폴로지 이더넷은 동시에 데이터를 전송할 수 없다. 어떤 순간에 데이터를 전송할 수 있는 것은 한 대뿐.

CSMA/CD: 이더넷에서 전송 매체를 어떻게 이용할지 제어해 전송 매체를 공유하는 메커니즘(먼저 가는 쪽이 승리)

현재 이더넷은 CSMA/CD가 필요 없는데, 전송 매체를 공유하지 않기 때문.

### 이더넷 네트워크를 만든다

레이어2 스위치: 이더넷을 이용한 네크워크 '하나'를 구성하는 기기  
레이어2 스위치를 여러 대 연결해도 하나의 네크워크이다.  
레이어2 스위치는 데이터인 이더넷 프레임을 변경하지 않고 전송하며, 이더넷 프레임을 전송하기 위해 이더넷 헤더의 MAC 주소를 확인할 뿐이다.

레이어2 스위치는 네트워크의 입구 역할도 한다. 네트워크에 접속하려면 우선 레이어2 스위치와 접속해야 한다. 레이어2 스위치를 '액세스 스위치', '스위칭 허브'라고도 한다.

### 레이어2 스위치의 동작 ①

1. 수신한 이더넷 프레임의 출발지 MAC 주소를 MAC 주소 테이블에 등록
2. 목적지 MAC 주소와 MAC 주소 테이블에서 전송할 포트를 결정해, 이더넷 프레임을 전송, MAC 주소 테이블에 존재하지 않는 MAC 주소의 경우는 수신 포트를 제외한 모든 포트로 이더넷 프레임을 전송(플러딩)

### 레이어2 스위치의 동작 ②

MAC 주소 테이블에 등록되지 않은 MAC 주소가 목적지로 되어 있는 이더넷 프레임을 `Unknown 유니캐스트 프레임`이라고 부른다.

> 잘 모르겠으면 전송한다

Unknown 유니캐스트 프레임은 수신한 포트를 제외한 모든 포트에 전송하는데, 이를 `플러딩`이라 한다.  
레이어2 스위치의 이더넷 프레임 전송은 '모르면 일단 전송한다'식으로 무책임하게 동작한다. 레이어2 스위치의 전송 범위는 같은 네트워크 안뿐이라 큰 악영향을 미치지는 않기 때문.  
라우터의 경우는 목적지를 모르면 데이터를 파기한다는 점이 다르다.

### 레이어2 스위치의 동작 ③

복수의 레이어2 스위치가 있어도, 각각의 레이어2 스위치는 같은 방식으로 동작하며 MAC 주소를 MAC 주소 테이블에 계속 등록하며 이더넷 프레임을 전송해 간다.

### 레이어2 스위치의 동작 ④

통신은 양방향이므로 호스트A에서 호스트D로 이더넷 프레임을 전송하면, 호스트D에서 호스트A로 응답이 돌아간다.  
반환되는 이더넷 프레임은 원래 프레임의 목적지와 출발지 MAC 주소가 교체된 주소가 된다.
